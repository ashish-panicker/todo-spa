<div class="row p-2">
    <div class="col-md-4 col-lg-4 offset-lg-3 offset-md-3 p-2 mt-3">
        <h2 class="mb-3">Signup for a new account</h2>
        <p class="small">
            <!-- {{user|json}} -->
        </p>
        <form (submit)="f.form.valid && onSubmit($event)" #f="ngForm" novalidate>
            <div class="form-group mb-3">
                <label for="fullName" class="form-label">Fullname</label>
                <input type="text" name="fullName" class="form-control" required 
                    [(ngModel)]="user.fullName"
                    #fullName="ngModel" 
                    [ngClass]="{'is-invalid': f.submitted && fullName.errors}"/>

                    @if (f.submitted && fullName.errors) {
                        <div class="invalid-feedback">
                            @if (fullName.errors['required']) {
                                <div>Fullname is mandatory</div>
                            }
                        </div>
                    }

            </div>
            <div class="form-group mb-3">
                <label for="userName" class="form-label">UserName</label>
                <input type="text" name="userName" class="form-control" required
                    [(ngModel)]="user.userName"
                    #userName="ngModel" 
                    [ngClass]="{'is-invalid': f.submitted && userName.errors}"/>

                    @if (f.submitted && userName.errors) {
                        <div class="invalid-feedback">
                            @if (userName.errors['required']) {
                                <div>Username is mandatory</div>
                            }
                        </div>
                    }
            </div>
            <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" name="email" class="form-control" required 
                    [(ngModel)]="user.email" 
                    #email="ngModel" 
                    [ngClass]="{'is-invalid': f.submitted && email.errors}"/>

                    @if (f.submitted && email.errors) {
                        <div class="invalid-feedback">
                            @if (email.errors['required']) {
                                <div>Email is mandatory</div>
                            }
                            @if (email.errors['email']) {
                                <div>Email should be in proper format</div>
                            }
                        </div>
                    }
            </div>
            <div class="form-group mb-3">
                <label for="userName" class="form-label">Password</label>
                <input type="text" name="password" class="form-control" required minlength="4"
                    [(ngModel)]="user.password"
                    #password="ngModel" 
                    [ngClass]="{'is-invalid': f.submitted && email.errors}"/>
                    
                    @if (f.submitted && password.errors) {
                        <div class="invalid-feedback">
                            @if (password.errors['required']) {
                                <div>Password is mandatory</div>
                            }
                            @if (password.errors['minlength']) {
                                <div>Password must be min 4 chars.</div>
                            }
                        </div>
                    }
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>

    </div>
</div>